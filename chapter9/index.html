<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script src="../chapter6/6.1%20inherit.js"></script>
<script src="../chapter6/6.2%20extend.js"></script>
<script src="9.1%20simpleClass.js"></script>
<script src="9.2%20rangeByConstructedFun.js"></script>
<script src="9.3%20complex.js"></script>
<script src="9.4%20typeof.js"></script>
<script src="9.5%20quacksInDockTest.js"></script>
<script src="9.6%20set.js"></script>
<script src="9.7%20enumeration.js"></script>
<script src="9.8%20card.js"></script>
<script src="9.11%20inherit.js"></script>
<script src="9.13%20nonNullSet.js"></script>
<script src="9.14%20filteredSetSubclass.js"></script>
<script src="9.15%20composite.js"></script>
<script>
    // 9.1测试
    console.log('9.1测试');
    var r = range(1, 3);
    console.log(r.includes(2));
    //r.foreach(console.log); // Illegal invocation
    r.foreach(function (x) {
        console.log(x);
    });
    console.log(r);

    // 9.2测试
    console.log('9.2测试');
    var r = new Range(1, 3);
    console.log(r.includes(2));
    //r.foreach(console.log); // Illegal invocation
    r.foreach(function (x) {
        console.log(x);
    });
    console.log(r);

    // 9.3测试
    console.log('9.3测试');
    var c = new Complex(2, 3);
    var d = new Complex(c.i, c.r);
    console.log(c.add(d).toString());
    console.log(Complex.parse(c.toString()).add(c.neg()).equals(Complex.ZERO));

    // 9.4测试
    console.log('9.4测试');
    console.log(type(1));
    console.log(type([]));
    console.log(type(function(){}));
    console.log(type(function a(){}));
    console.log(type(r));
    var Test = function(){};
    console.log(type(new Test()));
    console.log(type(new function(){}));

    // 9.5测试
    console.log('9.5测试');
    console.log(quacks({}, function(){}, 'aaa'));
    console.log(quacks({}, {}, 'aaa'));

    // 9.7和9.8测试
    console.log('9.7和9.8测试');
    var deck = (new Deck()).shuffle();
    var hand = deck.deal(13).sort(Card.orderBySuit);
    console.log(hand);

    // 9.10测试
    console.log('9.10测试');
    var r = new Range(1, 3);
    console.log(r.includes(2));
    //r.foreach(console.log); // Illegal invocation
    r.foreach(function (x) {
        console.log(x);
    });
    console.log(r);

    // 9.14、9.13和9.6测试
    console.log('9.14、9.13和9.6测试');
    // 定义一个只保存字符串中的集合类
    var StringSet = filteredSetSubclass(Set, function(x) { return typeof x === 'string'; });
    try{
        var strSet = new StringSet('one', 'two');
        console.log(strSet);
        strSet.add('three', 4);
    } catch(e) {
        console.log(e);
    }
    var MySet = filteredSetSubclass(NonNullSet, function(x) { return typeof x !== 'function'; });
    try{
        var nofunSet = new MySet(1, 'TWO');
        console.log(nofunSet);
        nofunSet.add(null);
    } catch(e) {
        console.log(e);
    }
    try{
        nofunSet.add(function(){});
    } catch(e) {
        console.log(e);
    }

    // 9.15和9.11测试
    console.log('9.15和9.11测试');
    var s = new FilteredSet(new Set(), function(x) {return x !== null;});
    try{
        s.add(1);
        console.log(s);
        s.add(null);
    } catch(e) {
        console.log(e);
    }
</script>
</body>
</html>